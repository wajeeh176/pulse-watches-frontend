import{r as reactExports,u as useLocation,j as jsxRuntimeExports,f as Container,C as CircularProgress,h as Typography,G as Grid}from"./react-mui-core-CD28kaIJ.js";import{P as ProductCard}from"./ProductCard-CjJwfMAG.js";import{A as API}from"./api-CPHjYns6.js";import{S as SEO}from"./SEO-DB5lEH1m.js";function Products(){const[products,setProducts]=reactExports.useState([]),[loading,setLoading]=reactExports.useState(true),location=useLocation(),params=new URLSearchParams(location.search),section=params.get("section")||"all";reactExports.useEffect(()=>{let mounted=true;setLoading(true);API.get("/products").then(res=>{mounted&&setProducts(res.data||[])}).catch(err=>{}).finally(()=>mounted&&setLoading(false));return()=>{mounted=false}},[]);const filteredProducts=reactExports.useMemo(()=>products&&0!==products.length?"new"===section?[...products].slice(-12).reverse():"featured"===section?products.slice(0,12):"men"===section?products.filter(p=>(p.category||"").toLowerCase().includes("men")):"women"===section?products.filter(p=>(p.category||"").toLowerCase().includes("women")):products:[],[products,section]);return loading?jsxRuntimeExports.jsx(Container,{maxWidth:"lg",sx:{py:6,minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress,{})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SEO,{title:"new"===section?"New Arrivals - Pulse Watches":"Products - Pulse Watches",description:"new"===section?"Browse the latest arrivals":"Browse all products",url:`https://pulsewatches.pk/products${"new"===section?"?section=new":""}`}),jsxRuntimeExports.jsxs(Container,{maxWidth:"lg",sx:{py:6},children:[jsxRuntimeExports.jsxs(Typography,{variant:"h4",fontWeight:800,gutterBottom:true,children:["new"===section&&"New Arrivals","featured"===section&&"Featured Watches","men"===section&&"Men's Collection","women"===section&&"Women's Collection",["all","",null,void 0].includes(section)&&"All Products"]}),jsxRuntimeExports.jsx(Grid,{container:true,spacing:3,children:filteredProducts.map(p=>jsxRuntimeExports.jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,children:jsxRuntimeExports.jsx(ProductCard,{product:p})},p._id))})]})]})}export{Products as default};
