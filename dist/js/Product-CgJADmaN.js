import{E as useParams,r as reactExports,j as jsxRuntimeExports,f as Container,C as CircularProgress,h as Typography,G as Grid,B as Box,F as Chip,g as Button,H as y}from"./react-mui-core-CD28kaIJ.js";import{a as useCart}from"./index-DUyuosf6.js";import{A as API}from"./api-CPHjYns6.js";import{S as SEO}from"./SEO-DB5lEH1m.js";function Product(){var _a,_b;const{slug}=useParams(),[product,setProduct]=reactExports.useState(null),[loading,setLoading]=reactExports.useState(true),{dispatch}=useCart();reactExports.useEffect(()=>{if(slug){setLoading(true);API.get(`/products/${slug}`).then(res=>{setProduct(res.data)}).catch(err=>{}).finally(()=>setLoading(false))}},[slug]);if(loading)return jsxRuntimeExports.jsx(Container,{maxWidth:"lg",sx:{py:6,minHeight:"600px",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress,{})});if(!product)return jsxRuntimeExports.jsx(Container,{maxWidth:"lg",sx:{py:6,minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",children:"Product not found"})});const inStock=product.countInStock>0,productUrl=`https://pulsewatches.pk/product/${product.slug}`,productImage=(null==(_a=product.images)?void 0:_a[0])?`https://pulsewatches.pk/images/${product.images[0]}`:"https://pulsewatches.pk/images/hero-bg.jpg";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SEO,{title:`${product.title} - Pulse Watches`,description:product.description||`Buy ${product.title} at Pulse Watches. Authentic luxury watch with fast delivery across Pakistan.`,keywords:`${product.title}, ${product.brand||""}, luxury watch, authentic watch, ${product.category||""}, watches pakistan`,image:productImage,url:productUrl,type:"product"}),jsxRuntimeExports.jsx(Container,{maxWidth:"lg",sx:{py:6},children:jsxRuntimeExports.jsxs(Grid,{container:true,spacing:4,alignItems:"flex-start",children:[jsxRuntimeExports.jsx(Grid,{item:true,xs:12,md:6,children:jsxRuntimeExports.jsx(Box,{sx:{p:2,borderRadius:2,border:theme=>`1px solid ${theme.palette.divider}`},children:jsxRuntimeExports.jsx(Box,{component:"img",src:`/images/${(null==(_b=product.images)?void 0:_b[0])||"product1.png"}`,alt:product.title,loading:"lazy",decoding:"async",width:"800",height:"520",fetchpriority:"high",sx:{width:"100%",maxHeight:520,minHeight:400,aspectRatio:"3/4",objectFit:"contain",borderRadius:1,display:"block",contentVisibility:"auto"}})})}),jsxRuntimeExports.jsxs(Grid,{item:true,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",fontWeight:800,gutterBottom:true,children:product.title}),jsxRuntimeExports.jsx(Typography,{variant:"body1",color:"text.secondary",sx:{mb:2},children:"string"==typeof product.description?product.description.replace(/^<p>|<\/p>$/gi,""):product.description}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[jsxRuntimeExports.jsxs(Typography,{variant:"h5",color:"primary",fontWeight:800,children:["Rs. ",product.price]}),jsxRuntimeExports.jsx(Chip,{label:inStock?"In Stock":"Out of Stock",color:inStock?"success":"error",variant:"outlined"})]}),jsxRuntimeExports.jsx(Button,{size:"large",variant:"contained",color:"primary",disabled:!inStock,onClick:()=>{dispatch({type:"ADD_ITEM",payload:product});y.success("Added to cart!")},children:"Add to cart"}),jsxRuntimeExports.jsxs(Box,{sx:{mt:6,p:2,borderRadius:2,border:theme=>`1px solid ${theme.palette.divider}`},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",fontWeight:700,gutterBottom:true,children:"Why buy from Pulse Watches?"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Authentic brands & warranty"}),jsxRuntimeExports.jsx("li",{children:"Cash on Delivery across Pakistan"}),jsxRuntimeExports.jsx("li",{children:"Free shipping above Rs. 10,000"})]})]})]})]})})]})}export{Product as default};
