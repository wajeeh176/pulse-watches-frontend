var __async=(__this,__arguments,generator)=>new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())});import{r as reactExports,j as jsxRuntimeExports,h as Typography,B as Box,Q as TableContainer,P as Paper,U as Table,V as TableHead,W as TableRow,X as TableCell,Y as TableBody,F as Chip}from"./react-mui-core-CD28kaIJ.js";import{A as API}from"./api-CPHjYns6.js";function AdminOrders(){const[orders,setOrders]=reactExports.useState([]),[loading,setLoading]=reactExports.useState(true);reactExports.useEffect(()=>{fetchOrders()},[]);const fetchOrders=()=>__async(this,null,function*(){try{const res=yield API.get("/orders");setOrders(res.data||[])}catch(error){}finally{setLoading(false)}});return loading?jsxRuntimeExports.jsx(Typography,{children:"Loading..."}):jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",fontWeight:800,gutterBottom:true,children:"Orders"}),jsxRuntimeExports.jsx(Typography,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"View all customer orders"}),jsxRuntimeExports.jsx(TableContainer,{component:Paper,children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHead,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("strong",{children:"Order ID"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("strong",{children:"Customer"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("strong",{children:"Email"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("strong",{children:"Total"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("strong",{children:"Payment"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("strong",{children:"Date"})})]})}),jsxRuntimeExports.jsx(TableBody,{children:orders.map(order=>{var _a,_b,_c;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsxs(TableCell,{children:["#",order._id.slice(-6)]}),jsxRuntimeExports.jsx(TableCell,{children:(null==(_a=order.shippingAddress)?void 0:_a.name)||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:(null==(_b=order.shippingAddress)?void 0:_b.email)||"N/A"}),jsxRuntimeExports.jsxs(TableCell,{children:["Rs. ",null==(_c=order.totalPrice)?void 0:_c.toLocaleString()]}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Chip,{label:order.paymentMethod||"COD",size:"small"})}),jsxRuntimeExports.jsx(TableCell,{children:order.createdAt?new Date(order.createdAt).toLocaleDateString():"N/A"})]},order._id)})})]})})]})}export{AdminOrders as default};
