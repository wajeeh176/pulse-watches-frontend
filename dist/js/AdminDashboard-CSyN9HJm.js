var __async=(__this,__arguments,generator)=>new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())});import{r as reactExports,j as jsxRuntimeExports,h as Typography,B as Box,G as Grid,v as Card,x as CardContent,P as Paper}from"./react-mui-core-CD28kaIJ.js";import{f as TrendingUpIcon,c as ShoppingCartIcon,a as InventoryIcon,b as PeopleIcon}from"./mui-icons-Bbp48fiL.js";import{A as API}from"./api-CPHjYns6.js";function AdminDashboard(){const[stats,setStats]=reactExports.useState({totalRevenue:0,totalOrders:0,totalProducts:0,totalUsers:0,recentOrders:[]}),[loading,setLoading]=reactExports.useState(true);reactExports.useEffect(()=>{const fetchStats=()=>__async(this,null,function*(){var _a,_b;try{const[ordersRes,productsRes,usersRes]=yield Promise.all([API.get("/orders"),API.get("/products"),API.get("/auth/users")]),orders=ordersRes.data||[],totalRevenue=orders.reduce((sum,order)=>sum+(order.totalPrice||0),0);setStats({totalRevenue,totalOrders:orders.length,totalProducts:(null==(_a=productsRes.data)?void 0:_a.length)||0,totalUsers:(null==(_b=usersRes.data)?void 0:_b.length)||0,recentOrders:orders.slice(0,5)})}catch(error){}finally{setLoading(false)}});fetchStats()},[]);const statCards=[{title:"Total Revenue",value:`Rs. ${stats.totalRevenue.toLocaleString()}`,icon:jsxRuntimeExports.jsx(TrendingUpIcon,{}),color:"#4caf50"},{title:"Total Orders",value:stats.totalOrders,icon:jsxRuntimeExports.jsx(ShoppingCartIcon,{}),color:"#2196f3"},{title:"Total Products",value:stats.totalProducts,icon:jsxRuntimeExports.jsx(InventoryIcon,{}),color:"#ff9800"},{title:"Total Users",value:stats.totalUsers,icon:jsxRuntimeExports.jsx(PeopleIcon,{}),color:"#9c27b0"}];return loading?jsxRuntimeExports.jsx(Typography,{children:"Loading..."}):jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",fontWeight:800,gutterBottom:true,children:"Dashboard"}),jsxRuntimeExports.jsx(Typography,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Welcome to the admin panel. Here's an overview of your store."}),jsxRuntimeExports.jsx(Grid,{container:true,spacing:3,sx:{mb:4},children:statCards.map((card,index)=>jsxRuntimeExports.jsx(Grid,{item:true,xs:12,sm:6,md:3,children:jsxRuntimeExports.jsx(Card,{sx:{height:"100%",bgcolor:card.color,color:"white"},children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",fontWeight:700,children:card.title}),card.icon]}),jsxRuntimeExports.jsx(Typography,{variant:"h4",fontWeight:900,children:card.value})]})})},index))}),jsxRuntimeExports.jsxs(Paper,{sx:{p:3},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",fontWeight:700,gutterBottom:true,children:"Recent Orders"}),0===stats.recentOrders.length?jsxRuntimeExports.jsx(Typography,{color:"text.secondary",children:"No orders yet"}):jsxRuntimeExports.jsx(Box,{children:stats.recentOrders.map(order=>{var _a,_b;return jsxRuntimeExports.jsxs(Box,{sx:{py:2,borderBottom:"1px solid",borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Typography,{variant:"body1",fontWeight:600,children:["Order #",order._id.slice(-6)]}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:(null==(_a=order.shippingAddress)?void 0:_a.name)||"N/A"})]}),jsxRuntimeExports.jsxs(Typography,{variant:"subtitle1",fontWeight:700,color:"primary",children:["Rs. ",null==(_b=order.totalPrice)?void 0:_b.toLocaleString()]})]},order._id)})})]})]})}export{AdminDashboard as default};
